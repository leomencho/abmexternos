<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">
<head>
    <title>Buscar Usuarios</title>
</head>
<body>
<section layout:fragment="content">
    <div class="container mt-4">
        <h2>Buscar Usuarios</h2>

        <!-- Formulario de búsqueda -->
        <form method="get" th:action="@{/buscar}" class="row g-3 mb-4">
            <!-- Campos de búsqueda -->
            <!-- ... tus filtros actuales (nombre, apellido, etc) ... -->
        </form>

        <!-- Tabla de resultados -->
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Foto</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>DNI</th>
                <th>CUIL</th>
                <th>Mail</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="usuario : ${usuarios}">
                <!-- Miniatura -->
                <td>
                    <img th:if="${usuario.foto != null}"
                         th:src="@{${usuario.foto}}"
                         alt="Foto"
                         style="height: 60px;" />
                    <span th:if="${usuario.foto == null}">Sin foto</span>
                </td>
                <td th:text="${usuario.nombre}">Nombre</td>
                <td th:text="${usuario.apellido}">Apellido</td>
                <td th:text="${usuario.dni}">DNI</td>
                <td th:text="${usuario.cuil}">CUIL</td>
                <td th:text="${usuario.mail}">Email</td>
                <td th:text="${usuario.estado.tipoestado}">Estado</td>
                <td>
                    <a th:href="@{/api/usuarios/nuevo(id=${usuario.idUsuarios})}" class="btn btn-primary btn-sm">Editar</a>
                    <a th:href="@{/api/usuarios/eliminar(id=${usuario.idUsuarios})}" class="btn btn-danger btn-sm"
                       onclick="return confirm('¿Estás seguro de que deseas eliminar este usuario?');">Eliminar</a>

                </td>
            </tr>
            </tbody>
        </table>
    </div>
</section>
</body>
</html>
